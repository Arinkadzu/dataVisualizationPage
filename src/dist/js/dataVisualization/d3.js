import*as d3 from"https://cdn.jsdelivr.net/npm/d3@7/+esm";function renderD3(t,e,a){t=document.querySelector("."+t);let l=document.createElement("div");t.appendChild(l),a.then(t=>{var e=500,a=Math.min(e,500),n=Math.min(e,a)/2;let r=d3.arc().innerRadius(.67*n).outerRadius(n-1);n=d3.pie().padAngle(1/n).sort(null).value(t=>t.value);let d=d3.scaleOrdinal().domain(t.map(t=>t.name)).range(d3.quantize(t=>d3.interpolateSpectral(.8*t+.1),t.length).reverse());e=d3.create("svg").attr("width",e).attr("height",a).attr("viewBox",[-250,-a/2,e,a]).attr("style","max-width: 100%; height: auto;");e.append("g").selectAll().data(n(t)).join("path").attr("fill",t=>d(t.data.name)).attr("d",r).append("title").text(t=>t.data.name+": "+t.data.value.toLocaleString()),e.append("g").attr("font-family","sans-serif").attr("font-size",12).attr("text-anchor","middle").selectAll().data(n(t)).join("text").attr("transform",t=>`translate(${r.centroid(t)})`).call(t=>t.append("tspan").attr("y","-0.4em").attr("font-weight","bold").text(t=>t.data.name)).call(t=>t.filter(t=>.25<t.endAngle-t.startAngle).append("tspan").attr("x",0).attr("y","0.7em").attr("fill-opacity",.7).text(t=>t.data.value.toLocaleString("en-US"))),l.appendChild(e.node())}).catch(t=>console.error("Error loading data:",t))}export{renderD3};