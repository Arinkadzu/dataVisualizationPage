import{renderChart}from"../js/dataVisualization/chartJS.js";import{renderD3}from"../js/dataVisualization/d3.js";import{getData}from"../js/utils/requestData.js";let darkMode=!1;function switchToDarkMode(t){t?$(".main-container").addClass("dark-mode"):$(".main-container").removeClass("dark-mode")}function getCurrentSectionText(){var t,e=window.location.hash;for(t of document.querySelectorAll("section[id]"))if(t.id===e.slice(1))return t.textContent.trim();return""}$(document).ready(function(){$(".heading").html("<h4>Changed</h4>"),$(".star--dark").attr("src","images/star-dark.svg"),$(".star--light").attr("src","images/star-light.svg"),$(".stars--light").attr("src","images/stars-light.svg"),$(".stars--dark").attr("src","images/stars-dark.svg"),$(".toggle-btn").on("click",function(){console.log("click"),darkMode?darkMode=!1:(darkMode=!0,$(this).addClass("toggle-btn--dark")),switchToDarkMode(darkMode)}),$(".image-annotation").html("<span></span>"),$(".dropdown-item__icon").html('<img class="star star--small star--dark" src="images/star-dark.svg" alt="Star element">');var t=document.querySelector(".current-section");t&&(t.textContent=getCurrentSectionText());let e=document.querySelector(".progress-line");window.addEventListener("scroll",()=>{var t=document.documentElement.scrollHeight-document.documentElement.clientHeight,t=document.documentElement.scrollTop/t*100;e.style.width=t+"%"});t={chartJSbar:{selector:"chartJS-bar",title:"NMP",renderFunction:renderChart,type:"line",data:getData("NMP"),question:"Navadi salidzinājas NMP sniegšanā. Kurš novāds ir labākais no visiem?"},chartJSdoughnut:{selector:"chartJS--doughnut",title:"Izglītojamo skaits uz 01.01.2024",renderFunction:renderChart,type:"doughnut",data:getData("students"),question:"Kura kursā ir visvairāk studentus? Kā jūs to uzzinājat?"},d3doughnut:{selector:"d3--doughnut",title:"Izglītojamo skaits uz 01.01.2024",renderFunction:renderD3,type:"doughnut",data:getData("students"),question:"Kura kursā ir visvairāk studentus? Kā jūs to uzzinājat?"}};{let o=document.getElementById("main");Object.values(t).forEach(t=>{var e=document.createElement("div"),a=(e.className="main__section__wrapper",document.createElement("div")),n=(a.className="data-visualization__wrapper",document.createElement("div")),r=(n.className="visualization-title",n.textContent=t.title,document.createElement("div")),s="js-visualization-"+t.selector,n=(r.className=s,a.appendChild(n),a.appendChild(r),document.createElement("div")),r=document.createElement("input"),i=document.createElement("label");i.innerText=t.question,n.className="form__wrapper",r.className="js-form-input-"+t.selector,n.appendChild(i),n.appendChild(r),e.appendChild(a),e.appendChild(n),o.appendChild(e),"function"==typeof t.renderFunction&&t.renderFunction(s,t.type,t.data)})}});