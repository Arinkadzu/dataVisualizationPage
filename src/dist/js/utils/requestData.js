function getData(r){return new Promise((o,n)=>{switch(r){case"chartJS":$.ajax({url:"data/latvian_students.json",dataType:"json",success:function(r){let t=r.fields.findIndex(r=>"Pašvaldība"===r.id),s=r.fields.findIndex(r=>"Izglītojamo skaits kopā (1.-4.kurss)"===r.id);var r=r.records.reduce((r,e)=>{var a=e[t],e=e[s]||0;return r[a]=(r[a]||0)+e,r},{}),e=Object.keys(r),r=Object.values(r);o({labels:e,data:r})},error:function(r,e,a){console.error("Error loading student data:",a),n(a)}});break;case"d3":$.ajax({url:"data/NMP.json",dataType:"json",success:function(r){var e,a,t;function s(r){return parseInt(r,10)}r&&r.records&&0!==r.records.length?(e=r.records.filter(r=>{r=s(r[4]);return 0<=r&&r<=18}).reduce((r,e)=>r+e[5],0),a=r.records.filter(r=>{r=s(r[4]);return 19<=r&&r<=35}).reduce((r,e)=>r+e[5],0),t=r.records.filter(r=>{r=s(r[4]);return 36<=r&&r<=60}).reduce((r,e)=>r+e[5],0),r=r.records.filter(r=>60<s(r[4])).reduce((r,e)=>r+e[5],0),o({ageData:[{label:"Vecums 0-18",value:e},{label:"Vecums 19-35",value:a},{label:"Vecums 36-60",value:t},{label:"Vecums 60+",value:r}]})):n("Invalid data format")},error:function(r,e,a){n(a)}});break;case"plot":$.ajax({url:"data/laulibas.csv",success:function(a){var r=new Promise((r,e)=>{try{r(a.trim().split("\n").slice(1).map(r=>{var[r,e]=r.split(";").map(r=>r.trim().replace(/"/g,"")),r=parseInt(r,10),e=parseFloat(e);return isNaN(r)||isNaN(e)?null:{year:r,value:e}}).filter(r=>null!==r))}catch(r){console.error("Error parsing data:",r),e(r)}});o(r)},error:function(r,e,a){console.error("Error loading data:",a)}});break;case"apexChart":$.ajax({url:"data/NMP_Novadi.json",dataType:"json",success:function(r){r=r.records.sort((r,e)=>e[3]-r[3]).slice(0,10);let a={categories:r.map(r=>r[1]),values:r.map(r=>r[3])};r=new Promise((r,e)=>{try{r(a)}catch(r){console.error("Error parsing data:",r),e(r)}});o(r)},error:function(r,e,a){console.error("Error loading data:",a)}});break;default:console.log("Invalid request"),n("Invalid data type")}})}export{getData};