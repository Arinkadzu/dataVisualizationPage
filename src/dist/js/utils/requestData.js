function getData(r){return new Promise((n,t)=>{switch(r){case"chartJS":$.ajax({url:"data/latvian_students.json",dataType:"json",success:function(r){let s=r.fields.findIndex(r=>"Pašvaldība"===r.id),o=r.fields.findIndex(r=>"Izglītojamo skaits kopā (1.-4.kurss)"===r.id);var r=r.records.reduce((r,e)=>{var a=e[s],e=e[o]||0;return r[a]=(r[a]||0)+e,r},{}),e=Object.keys(r),r=Object.values(r);n({labels:e,data:r})},error:function(r,e,a){console.error("Error loading student data:",a),t(a)}});break;case"d3":$.ajax({url:"data/NMP.json",dataType:"json",success:function(r){var e,a,s;function o(r){return parseInt(r,10)}r&&r.records&&0!==r.records.length?(e=r.records.filter(r=>{r=o(r[4]);return 0<=r&&r<=18}).reduce((r,e)=>r+e[5],0),a=r.records.filter(r=>{r=o(r[4]);return 19<=r&&r<=35}).reduce((r,e)=>r+e[5],0),s=r.records.filter(r=>{r=o(r[4]);return 36<=r&&r<=60}).reduce((r,e)=>r+e[5],0),r=r.records.filter(r=>60<o(r[4])).reduce((r,e)=>r+e[5],0),n({ageData:[{label:"Vecums 0-18",value:e},{label:"Vecums 19-35",value:a},{label:"Vecums 36-60",value:s},{label:"Vecums 60+",value:r}]})):t("Invalid data format")},error:function(r,e,a){t(a)}});break;case"plot":$.ajax({url:"data/laulibas.csv",success:function(a){var r=new Promise((r,e)=>{try{r(a.trim().split("\n").slice(1).map(r=>{var[r,e]=r.split(";").map(r=>r.trim().replace(/"/g,"")),r=parseInt(r,10),e=parseFloat(e);return isNaN(r)||isNaN(e)?null:{year:r,value:e}}).filter(r=>null!==r))}catch(r){console.error("Error parsing data:",r),e(r)}});n(r)},error:function(r,e,a){console.error("Error loading data:",a)}});break;case"apexChart":$.ajax({url:"data/NMP_Novadi.json",dataType:"json",success:function(r){r=r.records.sort((r,e)=>e[3]-r[3]).slice(0,10);let a={categories:r.map(r=>r[1]),values:r.map(r=>r[3])};r=new Promise((r,e)=>{try{r(a)}catch(r){console.error("Error parsing data:",r),e(r)}});n(r)},error:function(r,e,a){console.error("Error loading data:",a)}});break;case"plotly":$.ajax({url:"data/latvian_students.json",dataType:"json",success:function(r){r=r.records.filter(r=>"RĪGA"===r[1]);let e={course1:0,course2:0,course3:0,course4:0},a=(r.forEach(r=>{e.course1+=r[12],e.course2+=r[13],e.course3+=r[14],e.course4+=r[15]}),{course1:e.course1,course2:e.course2,course3:e.course3,course4:e.course4});r=new Promise((r,e)=>{try{r(a)}catch(r){console.error("Error preparing data:",r),e(r)}});n(r)},error:function(r,e,a){console.error("Error loading data:",a)}});break;case"googleChart":$.ajax({url:"data/latvian_students.json",dataType:"json",success:function(r){let s=r.fields.findIndex(r=>"Pašvaldība"===r.id),o=r.fields.findIndex(r=>"Izglītojamo skaits kopā (1.-4.kurss)"===r.id);var r=r.records.reduce((r,e)=>{var a=e[s],e=e[o]||0;return r[a]=(r[a]||0)+e,r},{}),e=Object.keys(r),r=Object.values(r);let a=r.reduce((r,e)=>r+e,0);var t=r.map(r=>(r/a*100).toFixed(2));let c={labels:e,studentCounts:r,percentages:t};e=new Promise((r,e)=>{try{r(c)}catch(r){console.error("Error preparing data:",r),e(r)}});n(e)},error:function(r,e,a){console.error("Error loading data:",a)}});break;default:console.log("Invalid request"),t("Invalid data type")}})}export{getData};