export default class ThemeManager{constructor(){this.darkMode=!1,this.themeToggleButton=document.querySelector(".toggle-btn"),this.mainContainer=document.querySelector(".main-container"),this.THEME_STORAGE_KEY="app_theme_preference",this.themeImages={dark:{".star":"images/star-dark.svg",".stars":"images/stars-dark.svg",".toggler":"images/stars-dark.svg"},light:{".star":"images/star-light.svg",".stars":"images/stars-light.svg",".toggler":"images/stars-light.svg"}}}init(){this.loadSavedTheme(),this.setupEventListeners(),this.updateImageSources()}loadSavedTheme(){var e=localStorage.getItem(this.THEME_STORAGE_KEY);e?(this.darkMode="dark"===e,this.applyTheme()):this.checkSystemThemePreference()}checkSystemThemePreference(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.darkMode=!0,this.applyTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.darkMode=e.matches,this.applyTheme()})}setupEventListeners(){this.themeToggleButton&&this.themeToggleButton.addEventListener("click",()=>this.toggleTheme()),this.themeChangeEvent=new CustomEvent("themeChange",{detail:{isDark:this.darkMode}})}toggleTheme(){this.darkMode=!this.darkMode,this.applyTheme(),this.saveThemePreference()}applyTheme(){this.themeToggleButton&&this.themeToggleButton.classList.toggle("toggle-btn--dark",this.darkMode),this.mainContainer&&this.mainContainer.classList.toggle("dark-mode",this.darkMode),document.documentElement.setAttribute("data-theme",this.darkMode?"dark":"light"),this.updateImageSources(),window.dispatchEvent(new CustomEvent("themeChange",{detail:{isDark:this.darkMode}}))}updateImageSources(){var e=this.darkMode?"dark":"light";Object.entries(this.themeImages[e]).forEach(([e,t])=>{document.querySelectorAll(e).forEach(e=>{e.src!==t&&(e.src=t)})})}saveThemePreference(){localStorage.setItem(this.THEME_STORAGE_KEY,this.darkMode?"dark":"light")}getCurrentTheme(){return this.darkMode?"dark":"light"}isDarkMode(){return this.darkMode}}class App{constructor(){this.themeManager=new ThemeManager,this.initializeComponents()}initializeComponents(){this.themeManager.init(),this.setupThemeAwareComponents()}setupThemeAwareComponents(){window.addEventListener("themeChange",e=>{e=e.detail.isDark;this.updateComponentsTheme(e)})}updateComponentsTheme(t){document.querySelectorAll(".chart").forEach(e=>{e.classList.toggle("chart--dark",t)})}}