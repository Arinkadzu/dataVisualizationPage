import{renderChart}from"../dataVisualization/chartJS.js";import{renderD3}from"../dataVisualization/d3.js";import{renderInfogram}from"../dataVisualization/infogram.js";import{getData}from"../utils/requestData.js";import{QUESTIONS}from"../dataVisualization/questionsBase.js";export default class VisualizationComponnet{constructor(){this.visualizations={chartJSbar:{selector:"chartJS-bar",title:"NMP",renderFunction:renderChart,type:"line",data:getData("NMP"),question:QUESTIONS.nmp[1]},chartJSdoughnut:{selector:"chartJS--doughnut",title:"Izglītojamo skaits uz 01.01.2024",renderFunction:renderChart,type:"doughnut",data:getData("students"),question:QUESTIONS.students[1]},d3doughnut:{selector:"d3--doughnut",title:"Izglītojamo skaits uz 01.01.2024",renderFunction:renderD3,type:"doughnut",data:getData("students-d3"),question:QUESTIONS.students[1]},infogram:{selector:"inforgam",title:"Test",renderFunction:renderInfogram,type:"",data:getData("NMP"),question:QUESTIONS.nmp[1]}}}init(){this.createVisualizations()}createVisualizations(){let a=document.getElementById("main");Object.values(this.visualizations).forEach(t=>{var e=this.createVisualizationSection(t);a.appendChild(e),"function"==typeof t.renderFunction&&t.renderFunction("js-visualization-"+t.selector,t.type,t.data)})}createVisualizationSection(t){var e=document.createElement("div"),a=(e.className="main__section__wrapper navigation-section",e.id="section-"+t.selector,e.setAttribute("data-title",t.title),this.createElement("div","data-visualization__wrapper",[this.createElement("div","visualization-title",[],t.title),this.createElement("div","js-visualization-"+t.selector)])),t=this.createElement("div","form__wrapper",[this.createElement("label","",[],t.question),this.createElement("input","js-form-input-"+t.selector)]);return e.append(a,t),e}createElement(t,e="",a=[],i=""){let n=document.createElement(t);return e&&(n.className=e),i&&(n.textContent=i),a.forEach(t=>n.appendChild(t)),n}}